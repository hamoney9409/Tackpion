-- MySQL dump 10.13  Distrib 8.0.13, for Linux (x86_64)
--
-- Host: localhost    Database: tackpion
-- ------------------------------------------------------
-- Server version	8.0.13

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
 SET NAMES utf8mb4 ;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Current Database: `tackpion`
--

CREATE DATABASE /*!32312 IF NOT EXISTS*/ `tackpion` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */;

USE `tackpion`;

--
-- Table structure for table `ADMIN`
--

DROP TABLE IF EXISTS `ADMIN`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `ADMIN` (
  `id` varchar(40) CHARACTER SET utf16 NOT NULL,
  `password` varchar(64) CHARACTER SET utf16 DEFAULT NULL,
  `classid` int(11) NOT NULL AUTO_INCREMENT,
  `privileges` int(11) NOT NULL DEFAULT '1',
  PRIMARY KEY (`classid`),
  UNIQUE KEY `id_UNIQUE` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ADMIN`
--

LOCK TABLES `ADMIN` WRITE;
/*!40000 ALTER TABLE `ADMIN` DISABLE KEYS */;
INSERT INTO `ADMIN` VALUES ('hamoney9409','admin',1,1),('fjvbn2003','admin',2,1);
/*!40000 ALTER TABLE `ADMIN` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `GAME`
--

DROP TABLE IF EXISTS `GAME`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `GAME` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `player1` int(11) NOT NULL,
  `player2` int(11) NOT NULL,
  `start_date` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `end_date` datetime DEFAULT NULL COMMENT 'null if game is still playing',
  `score1_p1` int(2) NOT NULL DEFAULT '0',
  `score1_p2` int(2) NOT NULL DEFAULT '0',
  `score2_p1` int(2) NOT NULL DEFAULT '0',
  `score2_p2` int(2) NOT NULL DEFAULT '0',
  `score3_p1` int(2) NOT NULL DEFAULT '0',
  `score3_p2` int(2) NOT NULL DEFAULT '0',
  `score4_p1` int(2) NOT NULL DEFAULT '0',
  `score4_p2` int(2) NOT NULL DEFAULT '0',
  `rank_increment_p1` int(11) DEFAULT NULL,
  `rank_increment_p2` int(11) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `is_playing_idx` (`player1`,`player2`),
  KEY `is_playing2_idx` (`player2`),
  CONSTRAINT `is_playing1` FOREIGN KEY (`player1`) REFERENCES `PLAYER` (`id`) ON UPDATE CASCADE,
  CONSTRAINT `is_playing2` FOREIGN KEY (`player2`) REFERENCES `PLAYER` (`id`) ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `GAME`
--

LOCK TABLES `GAME` WRITE;
/*!40000 ALTER TABLE `GAME` DISABLE KEYS */;
INSERT INTO `GAME` VALUES (1,1,2,'2018-12-25 13:11:22','2018-12-26 09:11:22',3,8,3,8,4,7,3,8,NULL,NULL),(4,1,4,'2018-12-26 16:33:40','2018-12-26 17:07:26',4,7,4,7,8,3,8,3,NULL,NULL),(5,1,2,'2018-12-26 17:22:50',NULL,3,8,7,4,10,1,4,7,NULL,NULL),(7,1,2,'2018-12-26 18:23:34',NULL,0,0,0,0,0,0,0,0,NULL,NULL);
/*!40000 ALTER TABLE `GAME` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PLAYER`
--

DROP TABLE IF EXISTS `PLAYER`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `PLAYER` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(40) CHARACTER SET utf16 DEFAULT NULL,
  `teamid` int(11) DEFAULT NULL,
  `rank` int(11) NOT NULL DEFAULT '1000',
  `registration_date` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `belong_to_idx` (`teamid`),
  CONSTRAINT `belong_to` FOREIGN KEY (`teamid`) REFERENCES `TEAM` (`id`) ON DELETE RESTRICT ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PLAYER`
--

LOCK TABLES `PLAYER` WRITE;
/*!40000 ALTER TABLE `PLAYER` DISABLE KEYS */;
INSERT INTO `PLAYER` VALUES (1,'하상범',1,1000,'2018-12-26 09:08:43'),(2,'김영주',1,1000,'2018-12-26 09:08:43'),(4,'김영주',2,1000,'2018-12-26 09:14:12');
/*!40000 ALTER TABLE `PLAYER` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `SCORE_LOG`
--

DROP TABLE IF EXISTS `SCORE_LOG`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `SCORE_LOG` (
  `set` int(2) NOT NULL,
  `number` int(2) NOT NULL,
  `score1` int(2) NOT NULL,
  `score2` int(2) NOT NULL,
  `date` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `recorder_admin` int(11) DEFAULT NULL,
  `game_id` int(11) DEFAULT NULL,
  KEY `is_scorelog_of_idx` (`game_id`),
  KEY `is_recording` (`recorder_admin`),
  CONSTRAINT `is_recording` FOREIGN KEY (`recorder_admin`) REFERENCES `ADMIN` (`classid`) ON DELETE RESTRICT ON UPDATE CASCADE,
  CONSTRAINT `is_scorelog_of` FOREIGN KEY (`game_id`) REFERENCES `GAME` (`id`) ON DELETE RESTRICT ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `SCORE_LOG`
--

LOCK TABLES `SCORE_LOG` WRITE;
/*!40000 ALTER TABLE `SCORE_LOG` DISABLE KEYS */;
INSERT INTO `SCORE_LOG` VALUES (1,1,1,0,'2018-12-26 15:24:08',1,1),(1,2,2,0,'2018-12-26 15:47:07',1,1),(1,3,2,1,'2018-12-26 15:59:12',1,1),(1,4,2,2,'2018-12-26 16:04:10',1,1),(1,5,2,3,'2018-12-26 16:04:43',1,1),(1,6,3,3,'2018-12-26 16:04:55',1,1),(1,7,3,4,'2018-12-26 16:06:10',1,1),(1,8,3,5,'2018-12-26 16:09:18',1,1),(1,9,3,6,'2018-12-26 16:10:23',1,1),(1,10,3,7,'2018-12-26 16:10:54',1,1),(1,11,3,8,'2018-12-26 16:12:33',1,1),(2,1,1,0,'2018-12-26 16:13:07',1,1),(2,2,1,1,'2018-12-26 16:13:21',1,1),(2,3,1,2,'2018-12-26 16:17:32',1,1),(2,4,1,3,'2018-12-26 16:17:49',1,1),(2,5,1,4,'2018-12-26 16:18:31',1,1),(2,6,2,4,'2018-12-26 16:19:26',1,1),(2,7,2,5,'2018-12-26 16:20:41',1,1),(2,8,2,6,'2018-12-26 16:21:30',1,1),(2,9,2,7,'2018-12-26 16:22:30',1,1),(2,10,2,8,'2018-12-26 16:22:45',1,1),(2,11,3,8,'2018-12-26 16:22:46',1,1),(3,1,0,1,'2018-12-26 16:23:38',1,1),(3,2,0,2,'2018-12-26 16:23:44',1,1),(3,3,0,3,'2018-12-26 16:23:46',1,1),(3,4,0,4,'2018-12-26 16:23:46',1,1),(3,5,0,5,'2018-12-26 16:23:47',1,1),(3,6,1,5,'2018-12-26 16:24:33',1,1),(3,7,2,5,'2018-12-26 16:24:37',1,1),(3,8,3,5,'2018-12-26 16:24:53',1,1),(3,9,4,5,'2018-12-26 16:24:58',1,1),(3,10,4,6,'2018-12-26 16:25:24',1,1),(3,11,4,7,'2018-12-26 16:25:39',1,1),(4,1,0,1,'2018-12-26 16:27:06',1,1),(4,2,1,1,'2018-12-26 16:27:37',1,1),(4,3,2,1,'2018-12-26 16:27:38',1,1),(4,4,2,2,'2018-12-26 16:27:39',1,1),(4,5,3,2,'2018-12-26 16:27:40',1,1),(4,6,3,3,'2018-12-26 16:27:41',1,1),(4,7,3,4,'2018-12-26 16:27:52',1,1),(4,8,3,5,'2018-12-26 16:28:16',1,1),(4,9,3,6,'2018-12-26 16:28:16',1,1),(4,10,3,7,'2018-12-26 16:28:17',1,1),(4,11,3,8,'2018-12-26 16:28:18',1,1),(1,1,0,1,'2018-12-26 16:33:47',1,4),(1,2,1,1,'2018-12-26 16:50:28',1,4),(1,3,1,2,'2018-12-26 16:50:29',1,4),(1,4,2,2,'2018-12-26 16:50:31',1,4),(1,5,3,2,'2018-12-26 16:50:58',1,4),(1,6,4,2,'2018-12-26 16:50:59',1,4),(1,7,4,3,'2018-12-26 16:51:00',1,4),(1,8,4,4,'2018-12-26 16:51:00',1,4),(1,9,4,5,'2018-12-26 16:51:01',1,4),(1,10,4,6,'2018-12-26 16:51:01',1,4),(1,11,4,7,'2018-12-26 16:51:02',1,4),(2,1,0,1,'2018-12-26 16:51:03',1,4),(2,2,1,1,'2018-12-26 17:07:01',1,4),(2,3,2,1,'2018-12-26 17:07:01',1,4),(2,4,3,1,'2018-12-26 17:07:02',1,4),(2,5,4,1,'2018-12-26 17:07:03',1,4),(2,6,4,2,'2018-12-26 17:07:04',1,4),(2,7,4,3,'2018-12-26 17:07:05',1,4),(2,8,4,4,'2018-12-26 17:07:05',1,4),(2,9,4,5,'2018-12-26 17:07:07',1,4),(2,10,4,6,'2018-12-26 17:07:08',1,4),(2,11,4,7,'2018-12-26 17:07:08',1,4),(3,1,0,1,'2018-12-26 17:07:09',1,4),(3,2,0,2,'2018-12-26 17:07:10',1,4),(3,3,1,2,'2018-12-26 17:07:11',1,4),(3,4,1,3,'2018-12-26 17:07:12',1,4),(3,5,2,3,'2018-12-26 17:07:12',1,4),(3,6,3,3,'2018-12-26 17:07:12',1,4),(3,7,4,3,'2018-12-26 17:07:13',1,4),(3,8,5,3,'2018-12-26 17:07:13',1,4),(3,9,6,3,'2018-12-26 17:07:13',1,4),(3,10,7,3,'2018-12-26 17:07:14',1,4),(3,11,8,3,'2018-12-26 17:07:14',1,4),(4,1,1,0,'2018-12-26 17:07:15',1,4),(4,2,1,1,'2018-12-26 17:07:16',1,4),(4,3,1,2,'2018-12-26 17:07:16',1,4),(4,4,2,2,'2018-12-26 17:07:22',1,4),(4,5,3,2,'2018-12-26 17:07:23',1,4),(4,6,4,2,'2018-12-26 17:07:23',1,4),(4,7,5,2,'2018-12-26 17:07:23',1,4),(4,8,5,3,'2018-12-26 17:07:24',1,4),(4,9,6,3,'2018-12-26 17:07:24',1,4),(4,10,7,3,'2018-12-26 17:07:25',1,4),(4,11,8,3,'2018-12-26 17:07:26',1,4),(1,1,0,1,'2018-12-26 17:23:00',1,5),(1,2,1,1,'2018-12-26 17:23:02',1,5),(1,3,1,2,'2018-12-26 17:23:03',1,5),(1,4,1,3,'2018-12-26 17:57:27',1,5),(1,5,2,3,'2018-12-26 17:57:43',1,5),(1,6,2,4,'2018-12-26 17:57:50',1,5),(1,7,2,5,'2018-12-26 17:57:50',1,5),(1,8,2,6,'2018-12-26 17:59:01',1,5),(1,9,2,7,'2018-12-26 17:59:02',1,5),(1,10,3,7,'2018-12-26 17:59:03',1,5),(1,11,3,8,'2018-12-26 17:59:03',1,5),(2,1,0,1,'2018-12-26 17:59:04',1,5),(2,2,1,1,'2018-12-26 18:04:53',1,5),(2,3,2,1,'2018-12-26 18:04:59',1,5),(2,4,3,1,'2018-12-26 18:04:59',1,5),(2,5,4,1,'2018-12-26 18:05:00',1,5),(2,6,4,2,'2018-12-26 18:05:01',1,5),(2,7,4,3,'2018-12-26 18:05:01',1,5),(2,8,5,3,'2018-12-26 18:05:02',1,5),(2,9,5,4,'2018-12-26 18:05:04',1,5),(2,10,6,4,'2018-12-26 18:05:08',1,5),(2,11,7,4,'2018-12-26 18:05:09',1,5),(3,1,1,0,'2018-12-26 18:05:11',1,5),(3,2,2,0,'2018-12-26 18:22:26',1,5),(3,3,2,1,'2018-12-26 18:22:28',1,5),(3,4,3,1,'2018-12-26 18:22:29',1,5),(3,5,4,1,'2018-12-26 18:22:31',1,5),(3,6,5,1,'2018-12-26 18:22:31',1,5),(3,7,6,1,'2018-12-26 18:22:31',1,5),(3,8,7,1,'2018-12-26 18:22:32',1,5),(3,9,8,1,'2018-12-26 18:22:32',1,5),(3,10,9,1,'2018-12-26 18:22:32',1,5),(3,11,10,1,'2018-12-26 18:22:32',1,5),(4,1,1,0,'2018-12-26 18:22:33',1,5),(4,2,2,0,'2018-12-26 18:22:33',1,5),(4,3,3,0,'2018-12-26 18:22:33',1,5),(4,4,4,0,'2018-12-26 18:22:34',1,5),(4,5,4,1,'2018-12-26 18:22:34',1,5),(4,6,4,2,'2018-12-26 18:22:35',1,5),(4,7,4,3,'2018-12-26 18:22:35',1,5),(4,8,4,4,'2018-12-26 18:22:35',1,5),(4,9,4,5,'2018-12-26 18:22:35',1,5),(4,10,4,6,'2018-12-26 18:22:35',1,5),(4,11,4,7,'2018-12-26 18:22:35',1,5);
/*!40000 ALTER TABLE `SCORE_LOG` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TEAM`
--

DROP TABLE IF EXISTS `TEAM`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
 SET character_set_client = utf8mb4 ;
CREATE TABLE `TEAM` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(40) CHARACTER SET utf16 DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TEAM`
--

LOCK TABLES `TEAM` WRITE;
/*!40000 ALTER TABLE `TEAM` DISABLE KEYS */;
INSERT INTO `TEAM` VALUES (1,'항공대'),(2,'무슨무슨대');
/*!40000 ALTER TABLE `TEAM` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2018-12-27 11:29:35
